"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[5623],{"./src/components/forms/editor/Editor.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Editor_stories}});var objectSpread2=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../node_modules/react/index.js"),slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),jquery=__webpack_require__("../../node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),koreanLang=(__webpack_require__("../../node_modules/summernote/dist/summernote-lite.min.js"),{font:{bold:"굵게",italic:"기울임꼴",underline:"밑줄",clear:"서식 지우기",height:"줄 간격",name:"글꼴",superscript:"위 첨자",subscript:"아래 첨자",strikethrough:"취소선",size:"글자 크기"},image:{image:"그림",insert:"그림 삽입",resizeFull:"100% 크기로 변경",resizeHalf:"50% 크기로 변경",resizeQuarter:"25% 크기로 변경",resizeNone:"원본 크기",floatLeft:"왼쪽 정렬",floatRight:"오른쪽 정렬",floatNone:"정렬하지 않음",shapeRounded:"스타일: 둥근 모서리",shapeCircle:"스타일: 원형",shapeThumbnail:"스타일: 액자",shapeNone:"스타일: 없음",dragImageHere:"텍스트 혹은 사진을 이곳으로 끌어오세요",dropImage:"텍스트 혹은 사진을 내려놓으세요",selectFromFiles:"파일 선택",maximumFileSize:"최대 파일 크기",maximumFileSizeError:"최대 파일 크기를 초과했습니다.",url:"사진 URL",remove:"사진 삭제",original:"원본"},video:{video:"동영상",videoLink:"동영상 링크",insert:"동영상 삽입",url:"동영상 URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku 사용 가능)"},link:{link:"링크",insert:"링크 삽입",unlink:"링크 삭제",edit:"수정",textToDisplay:"링크에 표시할 내용",url:"이동할 URL",openInNewWindow:"새창으로 열기"},table:{table:"표",addRowAbove:"위에 행 삽입",addRowBelow:"아래에 행 삽입",addColLeft:"왼쪽에 열 삽입",addColRight:"오른쪽에 열 삽입",delRow:"행 지우기",delCol:"열 지우기",delTable:"표 삭제"},hr:{insert:"구분선 삽입"},style:{style:"스타일",p:"본문",blockquote:"인용구",pre:"코드",h1:"제목 1",h2:"제목 2",h3:"제목 3",h4:"제목 4",h5:"제목 5",h6:"제목 6"},lists:{unordered:"글머리 기호",ordered:"번호 매기기"},options:{help:"도움말",fullscreen:"전체 화면",codeview:"코드 보기"},paragraph:{paragraph:"문단 정렬",outdent:"내어쓰기",indent:"들여쓰기",left:"왼쪽 정렬",center:"가운데 정렬",right:"오른쪽 정렬",justify:"양쪽 정렬"},color:{recent:"마지막으로 사용한 색",more:"다른 색 선택",background:"배경색",foreground:"글자색",transparent:"투명",setTransparent:"투명으로 설정",reset:"취소",resetToDefault:"기본값으로 설정",cpSelect:"고르다"},shortcut:{shortcuts:"키보드 단축키",close:"닫기",textFormatting:"글자 스타일 적용",action:"기능",paragraphFormatting:"문단 스타일 적용",documentStyle:"문서 스타일 적용",extraKeys:"추가 키"},help:{insertParagraph:"문단 삽입",undo:"마지막 명령 취소",redo:"마지막 명령 재실행",tab:"탭",untab:"탭 제거",bold:"굵은 글자로 설정",italic:"기울임꼴 글자로 설정",underline:"밑줄 글자로 설정",strikethrough:"취소선 글자로 설정",removeFormat:"서식 삭제",justifyLeft:"왼쪽 정렬하기",justifyCenter:"가운데 정렬하기",justifyRight:"오른쪽 정렬하기",justifyFull:"좌우채움 정렬하기",insertUnorderedList:"글머리 기호 켜고 끄기",insertOrderedList:"번호 매기기 켜고 끄기",outdent:"현재 문단 내어쓰기",indent:"현재 문단 들여쓰기",formatPara:"현재 블록의 포맷을 문단(P)으로 변경",formatH1:"현재 블록의 포맷을 제목1(H1)로 변경",formatH2:"현재 블록의 포맷을 제목2(H2)로 변경",formatH3:"현재 블록의 포맷을 제목3(H3)로 변경",formatH4:"현재 블록의 포맷을 제목4(H4)로 변경",formatH5:"현재 블록의 포맷을 제목5(H5)로 변경",formatH6:"현재 블록의 포맷을 제목6(H6)로 변경",insertHorizontalRule:"구분선 삽입","linkDialog.show":"링크 대화상자 열기"},history:{undo:"실행 취소",redo:"재실행"},specialChar:{specialChar:"특수문자",select:"특수문자를 선택하세요"}}),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_replace=function replace(summernote){var value=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",$container=summernote.parent(),noteEditable=$container.find(".note-editable"),notePlaceholder=$container.find(".note-placeholder");noteEditable.html()!==value&&(summernote.summernote("isEmpty")&&value.length?notePlaceholder.hide():value.length||notePlaceholder.show(),noteEditable.html(value))},ReactSummernote_ReactSummernote=(0,react.forwardRef)((function(_ref,ref){var id=_ref.id,_ref$options=_ref.options,options=void 0===_ref$options?{}:_ref$options,callbacks=_ref.callbacks,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$contents=_ref.contents,contents=void 0===_ref$contents?"":_ref$contents,onInit=_ref.onInit,onImageUpload=_ref.onImageUpload,_ref$dependencies=_ref.dependencies,dependencies=void 0===_ref$dependencies?[]:_ref$dependencies;(0,react.useImperativeHandle)(ref,(function(){return{focus:focus}}));var _useState=(0,react.useState)(),_useState2=(0,slicedToArray.Z)(_useState,2),summernoteRef=_useState2[0],setSummernoteRef=_useState2[1],handleInit=function handleInit(summernote){onInit({summernote:summernote,replace:function replace(){return _replace(summernote,contents)},focus:function focus(){return summernote.summernote("focus")},isEmpty:function isEmpty(){return summernote.summernote("isEmpty")},reset:function reset(){return summernote.summernote("reset")},disable:function disable(){return summernote.summernote("disable")},enable:function enable(){return summernote.summernote("enable")},insertNode:function insertNode(){return summernote.summernote("editor.insertNode")},insertText:function insertText(){return summernote.summernote("editor.insertText")},insertImage:function insertImage(){return summernote.summernote("editor.insertImage")}})};(0,react.useEffect)((function(){var summernoteRef=jquery_default()("#".concat(id)),summernoteCallbacks=(0,objectSpread2.Z)((0,objectSpread2.Z)({},callbacks),{},{onInit:function onInit(){return handleInit(summernoteRef)}});return onImageUpload&&(summernoteCallbacks.onImageUpload=function(files){return function handleImageUpload(files,summernote){onImageUpload&&onImageUpload(files,(function(url,fileName){var img=document.createElement("img");return img.src="".concat(url).concat(fileName),summernote.summernote("insertNode",img)}))}(files,summernoteRef)}),options.callbacks=summernoteCallbacks,jquery_default().extend(jquery_default().summernote.lang,{"ko-KR":koreanLang}),summernoteRef.summernote((0,objectSpread2.Z)((0,objectSpread2.Z)({},options),{},{lang:"ko-KR"})),summernoteRef.on("summernote.change.codeview",(function(_,value){var _callbacks$onChange;null==callbacks||null===(_callbacks$onChange=callbacks.onChange)||void 0===_callbacks$onChange||_callbacks$onChange.call(callbacks,value,summernoteRef)})),null==_replace||_replace(summernoteRef,contents),setSummernoteRef(summernoteRef),function(){summernoteRef.summernote("destroy")}}),[]);var focus=function focus(){null==summernoteRef||summernoteRef.summernote("focus")};return(0,react.useEffect)((function(){summernoteRef&&summernoteRef.summernote(disabled?"disable":"enable")}),[disabled,summernoteRef]),(0,react.useEffect)((function(){summernoteRef&&_replace(summernoteRef,contents)}),[dependencies,summernoteRef,contents]),(0,jsx_runtime.jsx)("div",{id:id,className:className,children:contents})})),reactSummernote_ReactSummernote=(0,react.memo)(ReactSummernote_ReactSummernote);try{ReactSummernote_ReactSummernote.displayName="ReactSummernote",ReactSummernote_ReactSummernote.__docgenInfo={description:"",displayName:"ReactSummernote",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},contents:{defaultValue:{value:""},description:"",name:"contents",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},options:{defaultValue:{value:"{}"},description:"",name:"options",required:!1,type:{name:"Options"}},callbacks:{defaultValue:null,description:"",name:"callbacks",required:!1,type:{name:"SummernoteCallbacks"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"(files: Blob[], insertImage: InsertImage) => void"}},onInit:{defaultValue:null,description:"",name:"onInit",required:!0,type:{name:"(init: SummernoteInitProps) => void"}},dependencies:{defaultValue:{value:"[]"},description:"",name:"dependencies",required:!1,type:{name:"DependencyList"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/editor/reactSummernote/ReactSummernote.tsx#ReactSummernote"]={docgenInfo:ReactSummernote_ReactSummernote.__docgenInfo,name:"ReactSummernote",path:"src/components/forms/editor/reactSummernote/ReactSummernote.tsx#ReactSummernote"})}catch(__react_docgen_typescript_loader_error){}var regeneratorRuntime=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),axios=__webpack_require__("../../node_modules/axios/lib/axios.js"),process=__webpack_require__("../../node_modules/process/browser.js");axios.Z.create({baseURL:`${process.env.NEXT_PUBLIC_DOMAIN_KUBE_WEB_API}`,headers:{Version:"1.0","Content-Type":"application/json"},timeout:3e4,withCredentials:!0});const storageApiRequest=axios.Z.create({baseURL:`${process.env.NEXT_PUBLIC_FLAVOR_STORAGE_API_URL}`,headers:{Version:"1.0","Content-Type":"application/json"},timeout:3e4,withCredentials:!0});var _Default$parameters,_Default$parameters2,_Default$parameters2$,postStorageImage=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(data){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,storageApiRequest("/storage",{method:"POST",headers:{"Content-Type":"multipart/form-data"},data:data});case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}),_callee)})));return function postStorageImage(_x){return _ref.apply(this,arguments)}}(),handleImageUpload=function handleImageUpload(container,url){return function(files,insertImage){Object.values(files).find((function(file){return file.size>5242880}))?alert("".concat(5,"MB 이하의 이미지만 업로드 가능합니다.")):function uploadFile(files,container){return new Promise((function(resolve,reject){axios.Z.all(Object.values(files).map((function(file){var data=new FormData,fileName=file.name.replace(" ","_");return data.append("file",file,decodeURIComponent(fileName)),data.append("container",container),postStorageImage(data)}))).then(axios.Z.spread((function(){for(var _len=arguments.length,responses=new Array(_len),_key=0;_key<_len;_key++)responses[_key]=arguments[_key];return resolve(responses)}))).catch((function(err){return reject(err)}))}))}(files,container).then((function(responses){responses.map((function(res){return{fileName:res.data.uploadedFileName}})).forEach((function(_ref2){var fileName=_ref2.fileName;return insertImage(url,encodeURIComponent(encodeURIComponent(fileName)))}))})).catch((function(){Object.values(files).forEach((function(file){var reader=new FileReader;reader.onload=function(){var _reader$result;return insertImage((null===(_reader$result=reader.result)||void 0===_reader$result?void 0:_reader$result.toString())||"")},reader.readAsDataURL(file)}))}))}},initialToolbar=function initialToolbar(){var InsertGroupOptions=["link"];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&InsertGroupOptions.push("picture"),[["style",["style","bold","italic","underline","clear"]],["font",["fontname"]],["fontname",[""]],["fontsize",["fontsize"]],["color",["color"]],["para",["paragraph"]],["table",["table"]],["height",["height"]],["help",["help"]],["misc",["codeview"]],["insert",InsertGroupOptions]]},classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),STYLE_VALIDATION=[/[^:;]+: ;/g,/\s*:\s*var\([^;]\s*;?/g,/(?: --tw| -webkit)[^;]*;/g,/&quot;/g,/(?<!\b(?:margin|border(?:-inline|-block)?|padding-inline)\s*:\s*) \b[\w-]+\s*:\s*(?:unset|inherit|revert)\s*;/g,/\s*:\s*unset\s*;?/g,/\bclass\s*=\s*"[^"]*"\s*/g,/<meta[^;>]*>/g,/<!--[\s\S]*?-->/g,/[\r\n]/g],transformStyle=function transformStyle(code){return STYLE_VALIDATION.reduce((function(transformedCode,pattern){return transformedCode.replace(pattern,"")}),code)},handlePaste=function handlePaste(e){if(e.preventDefault(),e.target){var textData=e.originalEvent.clipboardData.getData("text"),htmlData=e.originalEvent.clipboardData.getData("text/html");!function pasteHtmlAtCaret(html){var sel=window.getSelection();if(sel){var range=sel.getRangeAt(0);range.deleteContents();var el=document.createElement("div");el.innerHTML=html;for(var frag=document.createDocumentFragment(),node=el.firstChild,lastNode=null;node;)lastNode=frag.appendChild(node),node=el.firstChild;lastNode&&(range.insertNode(frag),range.setStartAfter(lastNode),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range))}}(transformStyle(htmlData||textData))}},_excluded=["replace","summernote"],Editor=(0,react.forwardRef)((function(_ref){var _ref3,_options$height,_options$toolbar,label=_ref.label,_ref$required=_ref.required,required=void 0!==_ref$required&&_ref$required,id=_ref.id,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$destructive=_ref.destructive,destructive=void 0!==_ref$destructive&&_ref$destructive,_ref$contents=_ref.contents,contents=void 0===_ref$contents?"":_ref$contents,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,callbacks=_ref.callbacks,options=_ref.options,_ref$container=_ref.container,container=void 0===_ref$container?"storage-pub/commerce/editor":_ref$container,onInit=_ref.onInit,_ref$isCodeview=_ref.isCodeview,isCodeview=void 0!==_ref$isCodeview&&_ref$isCodeview,_ref$useImageUpload=_ref.useImageUpload,useImageUpload=void 0===_ref$useImageUpload?{used:"NOT_USE"}:_ref$useImageUpload,_ref$dependencies=_ref.dependencies,dependencies=void 0===_ref$dependencies?[]:_ref$dependencies,editorRef=_ref.editorRef,_ref$url=_ref.url,url=void 0===_ref$url?"":_ref$url,_ref$hintText=_ref.hintText,hintText=void 0===_ref$hintText?"":_ref$hintText,characterCount=_ref.characterCount,isDestructive=destructive?"destructive":"",hintTextState=hintText&&!characterCount?"only-hint-text":!hintText&&characterCount?"only-char-count":hintText&&characterCount?"has-both":"";return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("cds-input cds-input--editor ".concat(className," ").concat(isDestructive)),children:[(0,jsx_runtime.jsx)("label",{className:classnames_default()("cds-input__label",{"is-required":required}),htmlFor:id,children:(0,jsx_runtime.jsx)("em",{className:classnames_default()("inquiry-contact-label"),children:label})}),(0,jsx_runtime.jsx)(reactSummernote_ReactSummernote,{id:id,disabled:disabled,callbacks:(0,objectSpread2.Z)((0,objectSpread2.Z)({},callbacks),{},{onPaste:handlePaste}),contents:contents,onInit:function handleInit(_ref2){var replace=_ref2.replace,summernote=_ref2.summernote,rest=(0,objectWithoutProperties.Z)(_ref2,_excluded);isCodeview&&(null==summernote||summernote.summernote("codeview.toggle")),null==onInit||onInit((0,objectSpread2.Z)({replace:replace,summernote:summernote},rest))},onImageUpload:"USE"===useImageUpload.used?handleImageUpload(container,url):function(){return null},dependencies:dependencies,options:(0,objectSpread2.Z)((0,objectSpread2.Z)({},options),{},{width:null!==(_ref3=null==options?void 0:options.width)&&void 0!==_ref3?_ref3:768,height:null!==(_options$height=null==options?void 0:options.height)&&void 0!==_options$height?_options$height:300,toolbar:null!==(_options$toolbar=null==options?void 0:options.toolbar)&&void 0!==_options$toolbar?_options$toolbar:initialToolbar("USE"===useImageUpload.used),dialogsInBody:!0,disableDragAndDrop:!1,codeviewFilter:!0,codeviewIframeFilter:!0}),ref:editorRef}),(hintText||characterCount)&&(0,jsx_runtime.jsxs)("div",{className:classnames_default()("cds-input__hint-text",hintTextState),children:[hintText&&(0,jsx_runtime.jsx)("p",{children:hintText}),characterCount&&(0,jsx_runtime.jsxs)("em",{children:[characterCount.currentCount," / ",characterCount.maxCount]})]})]})}));try{Editor.displayName="Editor",Editor.__docgenInfo={description:"",displayName:"Editor",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},hintText:{defaultValue:{value:""},description:"",name:"hintText",required:!1,type:{name:"string"}},characterCount:{defaultValue:null,description:"",name:"characterCount",required:!1,type:{name:"CharacterCountType"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},destructive:{defaultValue:{value:"false"},description:"",name:"destructive",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},contents:{defaultValue:{value:""},description:"",name:"contents",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:'Omit<Options, "width"> & { width?: string | number; }'}},callbacks:{defaultValue:null,description:"",name:"callbacks",required:!1,type:{name:"SummernoteCallbacks"}},useImageUpload:{defaultValue:{value:"{ used: 'NOT_USE' }"},description:"",name:"useImageUpload",required:!1,type:{name:'{ used: "NOT_USE"; } | { used: "USE"; }'}},onInit:{defaultValue:null,description:"",name:"onInit",required:!1,type:{name:"(props: SummernoteInitProps) => void"}},isCodeview:{defaultValue:{value:"false"},description:"",name:"isCodeview",required:!1,type:{name:"boolean"}},dependencies:{defaultValue:{value:"[]"},description:"",name:"dependencies",required:!1,type:{name:"DependencyList"}},editorRef:{defaultValue:null,description:"",name:"editorRef",required:!1,type:{name:"RefCallback<HTMLElement>"}},container:{defaultValue:{value:"storage-pub/commerce/editor"},description:"",name:"container",required:!1,type:{name:"string"}},url:{defaultValue:{value:""},description:"",name:"url",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/editor/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"src/components/forms/editor/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}var Editor_stories={title:"Form/Editor",component:Editor},Default=function EditorTemplate(props){return(0,jsx_runtime.jsx)(Editor,(0,objectSpread2.Z)({},props))}.bind({});Default.args={},Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"(props: EditorProps) => <Editor {...props} />"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]}}]);